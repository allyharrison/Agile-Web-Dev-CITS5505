<table class="table table-hover">
    <tr>
        <td width="70px">
            <a href="{{ url_for('user', username=post.author.username) }}">
                <img src="{{ post.author.avatar(70) }}" class="img-fluid rounded-circle" alt="Post Author Avatar">
            </a>
        </td>
        <td>
            {% set user_link %}
            <a href="{{ url_for('user', username=post.author.username) }}">
                {{ post.author.username }}
            </a>
            {% endset %}
            {{ _('%(username)s said %(when)s', username=user_link, when=moment(post.timestamp).fromNow()) }}
            <br>
            <span id="post{{ post.id }}">{{ post.body }}</span>
            {% if post.language and post.language != g.locale %}
            <br><br>
            <span id="translation{{ post.id }}">
                <a href="javascript:translate(
                                'post{{ post.id }}',
                                'translation{{ post.id }}',
                                '{{ post.language }}',
                                '{{ g.locale }}');">{{ _('Translate') }}</a>
            </span>
            {% endif %}
        </td>
    </tr>
</table>

<hr>
<h4>Comments</h4>
{% for comment in post_comments %}
<div class="mb-3">
    <strong>{{ comment.user.username }}</strong>
    <p>{{ comment.content }}</p>
    <small class="text-muted">{{ moment(comment.date_posted).fromNow() }}</small>
</div>
{% endfor %}
<hr>
<h4>Leave a Comment:</h4>
<form action="{{ url_for('comment') }}" method="post">
    {{ comment_form.hidden_tag() }}
    <div class="mb-3">
        {{ comment_form.content.label(class="form-label") }}
        {{ comment_form.content(class="form-control", rows=3) }}
        {% for error in comment_form.content.errors %}
        <div class="text-danger">{{ error }}</div>
        {% endfor %}
    </div>
    <input type="hidden" name="post_id" value="{{ post.id }}">
    <div>
        {{ comment_form.submit(class="btn btn-primary") }}
    </div>
</form>
